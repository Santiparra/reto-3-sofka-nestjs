{"ast":null,"code":"import * as i0 from \"@angular/core\";\nimport * as i1 from \"src/app/services/customer.service\";\nimport * as i2 from \"@angular/router\";\nimport * as i3 from \"@angular/forms\";\nexport class CustomerFormComponent {\n  constructor(customerService, router, activatedRoute) {\n    this.customerService = customerService;\n    this.router = router;\n    this.activatedRoute = activatedRoute;\n    this.customer = {\n      nombre: \"\",\n      usuario: \"\",\n      email: \"\",\n      contrasena: \"\"\n    };\n    this.edicion = false;\n  }\n  ngOnInit() {\n    const params = this.activatedRoute.snapshot.params;\n    if (params['id']) {\n      this.customerService.buscarCustomer(params['id']).subscribe(res => {\n        console.log(res);\n        this.customer = res;\n        this.edicion = true;\n      });\n    }\n  }\n  submitCustomer() {\n    this.customerService.crearCustomer(this.customer).subscribe({\n      next: () => this.router.navigate([\"/\"]),\n      error: err => console.log(err)\n    });\n  }\n  editarCustomer() {\n    this.customerService.editarCustomer(this.customer._id, this.customer).subscribe({\n      next: () => this.router.navigate([\"/\"]),\n      error: err => console.log(err)\n    });\n  }\n}\nCustomerFormComponent.ɵfac = function CustomerFormComponent_Factory(t) {\n  return new (t || CustomerFormComponent)(i0.ɵɵdirectiveInject(i1.CustomerService), i0.ɵɵdirectiveInject(i2.Router), i0.ɵɵdirectiveInject(i2.ActivatedRoute));\n};\nCustomerFormComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n  type: CustomerFormComponent,\n  selectors: [[\"app-customer-form\"]],\n  decls: 14,\n  vars: 4,\n  consts: [[1, \"row\"], [1, \"col-sm-4\", \"offset-md-4\"], [1, \"card\", \"card-body\"], [3, \"submit\"], [1, \"form-group\"], [\"type\", \"text\", \"name\", \"name\", \"placeholder\", \"Nombre del Customer\", \"autofocus\", \"\", 1, \"form-control\", 3, \"ngModel\", \"ngModelChange\"], [\"type\", \"text\", \"name\", \"usuario\", \"placeholder\", \"Nombre de usuario del Customer\", 1, \"form-control\", 3, \"ngModel\", \"ngModelChange\"], [\"type\", \"email\", \"name\", \"email\", \"placeholder\", \"Email del Customer\", 1, \"form-control\", 3, \"ngModel\", \"ngModelChange\"], [\"type\", \"text\", \"name\", \"contrase\\u00F1a\", \"placeholder\", \"contrase\\u00F1a del Customer\", 1, \"form-control\", 3, \"ngModel\", \"ngModelChange\"], [1, \"btn\", \"btn-dark\", \"btn-block\"]],\n  template: function CustomerFormComponent_Template(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵelementStart(0, \"div\", 0)(1, \"div\", 1)(2, \"div\", 2)(3, \"form\", 3);\n      i0.ɵɵlistener(\"submit\", function CustomerFormComponent_Template_form_submit_3_listener() {\n        return ctx.edicion ? ctx.editarCustomer() : ctx.submitCustomer();\n      });\n      i0.ɵɵelementStart(4, \"div\", 4)(5, \"input\", 5);\n      i0.ɵɵlistener(\"ngModelChange\", function CustomerFormComponent_Template_input_ngModelChange_5_listener($event) {\n        return ctx.customer.nombre = $event;\n      });\n      i0.ɵɵelementEnd()();\n      i0.ɵɵelementStart(6, \"div\", 4)(7, \"input\", 6);\n      i0.ɵɵlistener(\"ngModelChange\", function CustomerFormComponent_Template_input_ngModelChange_7_listener($event) {\n        return ctx.customer.usuario = $event;\n      });\n      i0.ɵɵelementEnd()();\n      i0.ɵɵelementStart(8, \"div\", 4)(9, \"input\", 7);\n      i0.ɵɵlistener(\"ngModelChange\", function CustomerFormComponent_Template_input_ngModelChange_9_listener($event) {\n        return ctx.customer.email = $event;\n      });\n      i0.ɵɵelementEnd()();\n      i0.ɵɵelementStart(10, \"div\", 4)(11, \"input\", 8);\n      i0.ɵɵlistener(\"ngModelChange\", function CustomerFormComponent_Template_input_ngModelChange_11_listener($event) {\n        return ctx.customer.contrasena = $event;\n      });\n      i0.ɵɵelementEnd()();\n      i0.ɵɵelementStart(12, \"button\", 9);\n      i0.ɵɵtext(13, \" Guardar \");\n      i0.ɵɵelementEnd()()()()();\n    }\n    if (rf & 2) {\n      i0.ɵɵadvance(5);\n      i0.ɵɵproperty(\"ngModel\", ctx.customer.nombre);\n      i0.ɵɵadvance(2);\n      i0.ɵɵproperty(\"ngModel\", ctx.customer.usuario);\n      i0.ɵɵadvance(2);\n      i0.ɵɵproperty(\"ngModel\", ctx.customer.email);\n      i0.ɵɵadvance(2);\n      i0.ɵɵproperty(\"ngModel\", ctx.customer.contrasena);\n    }\n  },\n  dependencies: [i3.ɵNgNoValidate, i3.DefaultValueAccessor, i3.NgControlStatus, i3.NgControlStatusGroup, i3.NgModel, i3.NgForm],\n  styles: [\"\\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsInNvdXJjZVJvb3QiOiIifQ== */\"]\n});","map":{"version":3,"mappings":";;;;AAUA,OAAM,MAAOA,qBAAqB;EAChCC,YACUC,eAAgC,EAChCC,MAAc,EACdC,cAA8B;IAF9B,oBAAe,GAAfF,eAAe;IACf,WAAM,GAANC,MAAM;IACN,mBAAc,GAAdC,cAAc;IAGxB,aAAQ,GAAa;MACnBC,MAAM,EAAE,EAAE;MACVC,OAAO,EAAE,EAAE;MACXC,KAAK,EAAE,EAAE;MACTC,UAAU,EAAE;KACb;IAED,YAAO,GAAY,KAAK;EATnB;EAWLC,QAAQ;IACN,MAAMC,MAAM,GAAG,IAAI,CAACN,cAAc,CAACO,QAAQ,CAACD,MAAM;IAClD,IAAIA,MAAM,CAAC,IAAI,CAAC,EAAE;MAChB,IAAI,CAACR,eAAe,CAACU,cAAc,CAACF,MAAM,CAAC,IAAI,CAAC,CAAC,CAC9CG,SAAS,CACRC,GAAG,IAAG;QACJC,OAAO,CAACC,GAAG,CAACF,GAAG,CAAC;QAChB,IAAI,CAACG,QAAQ,GAAGH,GAAG;QACnB,IAAI,CAACI,OAAO,GAAG,IAAI;MACvB,CAAC,CACA;;EAEP;EAEEC,cAAc;IACd,IAAI,CAACjB,eAAe,CAACkB,aAAa,CAAC,IAAI,CAACH,QAAQ,CAAC,CAC9CJ,SAAS,CAAC;MACTQ,IAAI,EAAE,MAAM,IAAI,CAAClB,MAAM,CAACmB,QAAQ,CAAC,CAAC,GAAG,CAAC,CAAC;MACvCC,KAAK,EAAGC,GAAG,IAAKT,OAAO,CAACC,GAAG,CAACQ,GAAG;KAChC,CAAC;EACN;EAEAC,cAAc;IACZ,IAAI,CAACvB,eAAe,CAACuB,cAAc,CAAC,IAAI,CAACR,QAAQ,CAACS,GAAG,EAAE,IAAI,CAACT,QAAQ,CAAC,CAClEJ,SAAS,CAAC;MACTQ,IAAI,EAAE,MAAM,IAAI,CAAClB,MAAM,CAACmB,QAAQ,CAAC,CAAC,GAAG,CAAC,CAAC;MACvCC,KAAK,EAAGC,GAAG,IAAKT,OAAO,CAACC,GAAG,CAACQ,GAAG;KAChC,CAAC;EACN;;AA5CWxB,qBAAqB;mBAArBA,qBAAqB;AAAA;AAArBA,qBAAqB;QAArBA,qBAAqB;EAAA2B;EAAAC;EAAAC;EAAAC;EAAAC;IAAA;MCVlCC,8BAAiB;MAGCA;QAAA,qBAAsBC,oBAAgB,GAAGA,oBAAgB;MAAA;MAC3DD,8BAAwB;MAKpBA;QAAA;MAAA,EAA6B;MAJ7BA,iBAKU;MAEdA,8BAAwB;MAKpBA;QAAA;MAAA,EAA8B;MAJ9BA,iBAI+B;MAEnCA,8BAAwB;MAKpBA;QAAA;MAAA,EAA4B;MAJ5BA,iBAI6B;MAEjCA,+BAAwB;MAKpBA;QAAA;MAAA,EAAiC;MAJjCA,iBAIkC;MAEtCA,kCAAuC;MACnCA,0BACJ;MAAAA,iBAAS;;;MA1BLA,eAA6B;MAA7BA,6CAA6B;MAQ7BA,eAA8B;MAA9BA,8CAA8B;MAO9BA,eAA4B;MAA5BA,4CAA4B;MAO5BA,eAAiC;MAAjCA,iDAAiC","names":["CustomerFormComponent","constructor","customerService","router","activatedRoute","nombre","usuario","email","contrasena","ngOnInit","params","snapshot","buscarCustomer","subscribe","res","console","log","customer","edicion","submitCustomer","crearCustomer","next","navigate","error","err","editarCustomer","_id","selectors","decls","vars","consts","template","i0","ctx"],"sourceRoot":"","sources":["/home/trini/repos/Sofka/Angular/backups/reto-3-sofka-nestjs/cliente/src/app/component/customer-form/customer-form.component.ts","/home/trini/repos/Sofka/Angular/backups/reto-3-sofka-nestjs/cliente/src/app/component/customer-form/customer-form.component.html"],"sourcesContent":["import { Component, OnInit } from '@angular/core';\nimport { ActivatedRoute, Router } from '@angular/router';\nimport { Customer } from 'src/app/interfaces/Customer';\nimport { CustomerService } from 'src/app/services/customer.service';\n\n@Component({\n  selector: 'app-customer-form',\n  templateUrl: './customer-form.component.html',\n  styleUrls: ['./customer-form.component.css']\n})\nexport class CustomerFormComponent implements OnInit{\n  constructor (\n    private customerService: CustomerService,\n    private router: Router,\n    private activatedRoute: ActivatedRoute\n    ) {}\n  \n  customer: Customer = {\n    nombre: \"\",\n    usuario: \"\",\n    email: \"\",\n    contrasena: \"\"\n  }  \n\n  edicion: boolean = false\n\n  ngOnInit(): void {\n    const params = this.activatedRoute.snapshot.params\n    if (params['id']) {\n      this.customerService.buscarCustomer(params['id'])\n        .subscribe(\n          res => {\n            console.log(res);\n            this.customer = res\n            this.edicion = true\n        }\n        )\n    }\n  }\n\n    submitCustomer() {\n    this.customerService.crearCustomer(this.customer)\n      .subscribe({\n        next: () => this.router.navigate([\"/\"]),\n        error: (err) => console.log(err)\n      })\n  }\n\n  editarCustomer () {\n    this.customerService.editarCustomer(this.customer._id, this.customer)\n      .subscribe({\n        next: () => this.router.navigate([\"/\"]),\n        error: (err) => console.log(err)\n      })\n  }\n}\n","<div class=\"row\">\n    <div class=\"col-sm-4 offset-md-4\">\n        <div class=\"card card-body\">\n            <form (submit)=\" edicion ? editarCustomer() : submitCustomer()\">\n                <div class=\"form-group\">\n                    <input type=\"text\" \n                    class=\"form-control\"\n                    name=\"name\"\n                    placeholder=\"Nombre del Customer\" \n                    [(ngModel)]=\"customer.nombre\"\n                    autofocus>\n                </div>\n                <div class=\"form-group\">\n                    <input type=\"text\"\n                    name=\"usuario\" \n                    class=\"form-control\"\n                    placeholder=\"Nombre de usuario del Customer\" \n                    [(ngModel)]=\"customer.usuario\">\n                </div>\n                <div class=\"form-group\">\n                    <input type=\"email\"\n                    name=\"email\" \n                    class=\"form-control\"\n                    placeholder=\"Email del Customer\" \n                    [(ngModel)]=\"customer.email\">\n                </div>\n                <div class=\"form-group\">\n                    <input type=\"text\"\n                    name=\"contraseña\" \n                    class=\"form-control\"\n                    placeholder=\"contraseña del Customer\" \n                    [(ngModel)]=\"customer.contrasena\">\n                </div>\n                <button class=\"btn btn-dark btn-block\">\n                    Guardar\n                </button>\n            </form>\n        </div>\n    </div>\n</div>"]},"metadata":{},"sourceType":"module","externalDependencies":[]}